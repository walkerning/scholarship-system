/*
    *
    * Wijmo Library 5.20171.300
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the Wijmo Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var __extends,wijmo;(function(n){'use strict';function vt(){return at}function y(n,t){return n==null?null:f(t)?h(n.implementsInterface)&&n.implementsInterface(t)?n:null:n instanceof t?n:null}function pt(n){return f(n)||e(n)||l(n)||i(n)}function f(n){return typeof n=='string'}function wt(n){return n==null?!0:n.replace(/\s/g,'').length<1}function e(n){return typeof n=='number'}function b(n){return e(n)&&n==Math.round(n)}function l(n){return typeof n=='boolean'}function h(n){return typeof n=='function'}function bt(n){return typeof n=='undefined'}function i(n){return n instanceof Date&&!isNaN(n.getTime())}function o(n){return n instanceof Array}function a(n){return n!=null&&typeof n=='object'&&!i(n)&&!o(n)}function kt(n){for(var t=n,i=0;document.getElementById(t)!=null;i++)t=n+i;return t}function dt(n){if(n instanceof c)return n;if(n.touches&&n.touches.length>0&&(n=n.touches[0]),e(n.clientX)&&e(n.clientY))return new c(n.clientX+pageXOffset,n.clientY+pageYOffset);throw'Mouse or touch event expected.';}function gt(n){return e(n)?u.Number:l(n)?u.Boolean:i(n)?u.Date:f(n)?u.String:o(n)?u.Array:u.Object}function k(t,i,r){var o,e;if(t!=null){if(f(t))switch(i){case u.Number:return o=n.Globalize.parseFloat(t,r),isNaN(o)?t:o;case u.Date:return e=n.Globalize.parseDate(t,r),e||r||!t||(e=new Date(t)),e&&isFinite(e.getTime())?e:t;case u.Boolean:switch(t.toLowerCase()){case'true':return!0;case'false':return!1}return t}if(i==u.String)return n.Globalize.format(t,r)}return t}function ni(n,t,i){var u,r;return i?(r=n.toString(),u=r.indexOf('.'),u>-1&&(r=r.substr(0,u+1+t),n=parseFloat(r))):(r=n.toFixed(t),n=parseFloat(r)),n}function ti(t,i,r){var u,s,o,h;if(t=p(t),t.match(/\{.*"count".*:.*"when".*:.*\}/))try{u=JSON.parse(t);f(u.count)&&(s=i[u.count],o=u.when,e(s)&&a(o)&&(h=o[s]||o.other,f(h)&&(t=h)))}catch(c){}return t.replace(/\{(.*?)(:(.*?))?\}/g,function(t,u,f,e){var o=t;return u&&u[0]!='{'&&i&&(o=i[u],e&&(o=n.Globalize.format(o,e)),r&&(o=r(i,u,e,o))),o==null?'':o})}function ii(n,t,i){return n!=null&&(i!=null&&n>i&&(n=i),t!=null&&n<t&&(n=t)),n}function d(i,r){var u,f;if(r)for(u in r)u[0]!='_'&&(t(u in i,'Unknown property "'+u+'".'),f=r[u],i._copy&&i._copy(u,f)||(i[u]instanceof n.Event&&h(f)?i[u].addHandler(f):!a(f)||f instanceof Element||!i[u]||u=='itemsSource'?i[u]=f:d(i[u],f)))}function t(n,t){if(!n)throw'** Assertion failed in Wijmo: '+t;}function ri(n,t){console.error('** WARNING: "'+n+'" has been deprecated; please use "'+t+'" instead.')}function p(n,i){return i===void 0&&(i=!0),t(i&&n==null||f(n),'String expected.'),n}function r(n,i,r){if(i===void 0&&(i=!1),r===void 0&&(r=!1),t(i&&n==null||e(n),'Number expected.'),r&&n&&n<0)throw'Positive number expected.';return n}function ui(n,i,r){if(i===void 0&&(i=!1),r===void 0&&(r=!1),t(i&&n==null||b(n),'Integer expected.'),r&&n&&n<0)throw'Positive integer expected.';return n}function g(n,i){return i===void 0&&(i=!1),t(i&&n==null||l(n),'Boolean expected.'),n}function fi(n,r){if(r===void 0&&(r=!1),f(n)){var e=k(n,u.Date,'r');i(e)&&(n=e)}return t(r&&n==null||i(n),'Date expected.'),n}function s(n,i){return i===void 0&&(i=!0),t(i&&n==null||h(n),'Function expected.'),n}function ei(n,i){return i===void 0&&(i=!0),t(i&&n==null||o(n),'Array expected.'),n}function nt(n,i,r){return r===void 0&&(r=!1),n=y(n,i),t(r||n!=null,i+' expected.'),n}function oi(n,i,r){if(r===void 0&&(r=!1),n==null&&r)return null;var u=i[n];return t(u!=null,'Invalid enum value.'),e(u)?u:n}function si(i,r){if(r===void 0&&(r=!0),i==null&&r)return null;var u=y(i,'ICollectionView');return u!=null?u:(o(i)||t(!1,'Array or ICollectionView expected.'),new n.collections.CollectionView(i))}function hi(n){return n!=null&&n.items!=null&&n.items.length>0}function ci(n){return n&&n.length?n[0].toUpperCase()+n.substr(1).replace(/([a-z])([A-Z])/g,'$1 $2'):''}function li(n){return f(n)&&(n=n.replace(/[&<>"'\/]/g,function(n){return tt[n]})),n}function v(n,t){if(n&&n.getAttribute){var i=new RegExp('(\\s|^)'+t+'(\\s|$)');return n&&i.test(n.getAttribute('class'))}return!1}function it(n,t){if(n&&t&&n.setAttribute&&v(n,t)){var r=new RegExp('((\\s|^)'+t+'(\\s|$))','g'),i=n.getAttribute('class');i=i.replace(r,' ').replace(/ +/g,' ').trim();n.setAttribute('class',i)}}function rt(n,t){if(n&&t&&n.setAttribute&&!v(n,t)){var i=n.getAttribute('class');n.setAttribute('class',i?i+' '+t:t)}}function ut(n,t,i){i==null&&(i=!v(n,t));i?rt(n,t):it(n,t)}function ft(n,t,i){i!=null?n.setAttribute(t,i.toString()):n.removeAttribute(t)}function ai(t,i,u){if(u===void 0&&(u=i),t=nt(t,HTMLInputElement),ot(document.body,t)&&!t.disabled&&t.style.display!='none')try{t.setSelectionRange(r(i),r(u),n.isIE()?null:'backward');t.focus()}catch(f){}}function et(){var n=document.activeElement,t;return n&&(t=n.shadowRoot,t&&t.activeElement&&(n=t.activeElement)),n}function vi(n,t){for(var f,i,e='input,select,textarea,button,a,div',o=n.querySelectorAll(e),r=[],u=0;u<o.length;u++)i=o[u],i.offsetHeight>0&&i.tabIndex>-1&&!i.disabled&&!st(i,'[disabled],.wj-state-disabled')&&!i.querySelector(e)&&r.push(i);f=0;t&&(u=r.indexOf(et()),u>-1&&(f=(u+t+r.length)%r.length));f<r.length&&(i=r[f],i.focus(),i instanceof HTMLInputElement&&i.select())}function yi(n){return n instanceof Element?n:f(n)?document.querySelector(n):n&&n.jquery?n[0]:null}function pi(n,t){var i=document.createElement('div'),r;return i.innerHTML=n,r=i.removeChild(i.firstChild),t instanceof HTMLElement?t.appendChild(r):r}function wi(n,t){if(t==null){n.hasChildNodes()&&(n.textContent='');return}var i=n.firstChild;n.childNodes.length==1&&i.nodeType==3?i.nodeValue!=t&&(i.nodeValue=t):(i||t)&&(n.textContent=t)}function ot(n,t){for(var i=t;i&&n;){if(i===n)return!0;i=i.parentNode||i.host}return!1}function st(n,t){var i=n?n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector:null;if(i)for(;n;n=n.parentNode)if(n instanceof Element&&i.call(n,t))return n;return null}function bi(n,t){var f=!t,r,i,u;for(ut(n,'wj-state-disabled',f),ft(n,'disabled',f?'true':null),r=n.querySelectorAll('input'),i=0;i<r.length;i++)u=r[i],t?u.removeAttribute('disabled'):u.setAttribute('disabled','true')}function ki(n){var t=n.getBoundingClientRect();return new w(t.left+pageXOffset,t.top+pageYOffset,t.width,t.height)}function ht(n,t){var u,f,r,i;if(n instanceof Array){for(u=0;u<n.length;u++)ht(n[u],t);return}f=n.style;for(r in t)i=t[r],typeof i=='number'&&r.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(i=i+'px'),f[r]!=i&&(f[r]=i.toString())}function di(n,t,i){t===void 0&&(t=400);i===void 0&&(i=35);s(n);r(t,!1,!0);r(i,!1,!0);var f=Date.now(),u=setInterval(function(){var i=Math.min(1,(Date.now()-f)/t);i=Math.sin(i*Math.PI/2);i*=i;requestAnimationFrame(function(){n(i)});i>=1&&clearInterval(u)},i);return u}function gi(n,t){var o,c,e,w,r,l,v;t||(t={});var y=t.method?p(t.method).toUpperCase():'GET',b=t.async!=null?g(t.async):!0,u=t.data;if(u!=null&&y=='GET'){o=[];for(c in u)e=u[c],i(e)&&(e=e.toJSON()),o.push(c+'='+e);o.length&&(w=n.indexOf('?')<0?'?':'&',n+=w+o.join('&'));u=null}if(r=new XMLHttpRequest,r.URL_DEBUG=n,l=!1,u==null||f(u)||(l=a(u),u=JSON.stringify(u)),r.onload=function(){r.readyState==4&&(r.status<300?t.success&&s(t.success)(r):t.error&&s(t.error)(r),t.complete&&s(t.complete)(r))},r.onerror=function(){if(t.error)s(t.error)(r);else throw'HttpRequest Error: '+r.status+' '+r.statusText;},r.open(y,n,b,t.user,t.password),t.user&&t.password&&r.setRequestHeader('Authorization','Basic '+btoa(t.user+':'+t.password)),l&&r.setRequestHeader('Content-Type','application/json'),t.requestHeaders)for(v in t.requestHeaders)r.setRequestHeader(v,t.requestHeaders[v]);return h(t.beforeSend)&&t.beforeSend(r),r.send(u),r}var at='5.20171.300',yt,u,tt,c,ct,w,lt;n.getVersion=vt,function(n){n[n.Back=8]="Back";n[n.Tab=9]="Tab";n[n.Enter=13]="Enter";n[n.Escape=27]="Escape";n[n.Space=32]="Space";n[n.PageUp=33]="PageUp";n[n.PageDown=34]="PageDown";n[n.End=35]="End";n[n.Home=36]="Home";n[n.Left=37]="Left";n[n.Up=38]="Up";n[n.Right=39]="Right";n[n.Down=40]="Down";n[n.Delete=46]="Delete";n[n.F1=112]="F1";n[n.F2=113]="F2";n[n.F3=114]="F3";n[n.F4=115]="F4";n[n.F5=116]="F5";n[n.F6=117]="F6";n[n.F7=118]="F7";n[n.F8=119]="F8";n[n.F9=120]="F9";n[n.F10=121]="F10";n[n.F11=122]="F11";n[n.F12=123]="F12"}(yt=n.Key||(n.Key={})),function(n){n[n.Object=0]="Object";n[n.String=1]="String";n[n.Number=2]="Number";n[n.Boolean=3]="Boolean";n[n.Date=4]="Date";n[n.Array=5]="Array"}(u=n.DataType||(n.DataType={}));n.tryCast=y;n.isPrimitive=pt;n.isString=f;n.isNullOrWhiteSpace=wt;n.isNumber=e;n.isInt=b;n.isBoolean=l;n.isFunction=h;n.isUndefined=bt;n.isDate=i;n.isArray=o;n.isObject=a;n.getUniqueId=kt;n.mouseToPage=dt;n.getType=gt;n.changeType=k;n.toFixed=ni;n.format=ti;n.clamp=ii;n.copy=d;n.assert=t;n._deprecated=ri;n.asString=p;n.asNumber=r;n.asInt=ui;n.asBoolean=g;n.asDate=fi;n.asFunction=s;n.asArray=ei;n.asType=nt;n.asEnum=oi;n.asCollectionView=si;n.hasItems=hi;n.toHeaderCase=ci;n.escapeHtml=li;tt={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;','/':'&#x2F;'};n.hasClass=v;n.removeClass=it;n.addClass=rt;n.toggleClass=ut;n.setAttribute=ft;n.setSelectionRange=ai;n.getActiveElement=et;n.moveFocus=vi;n.getElement=yi;n.createElement=pi;n.setText=wi;n.contains=ot;n.closest=st;n.enable=bi;n.getElementRect=ki;n.setCss=ht;n.animate=di;c=function(){function n(n,t){n===void 0&&(n=0);t===void 0&&(t=0);this.x=r(n);this.y=r(t)}return n.prototype.equals=function(t){return t instanceof n&&this.x==t.x&&this.y==t.y},n.prototype.clone=function(){return new n(this.x,this.y)},n}();n.Point=c;ct=function(){function n(n,t){n===void 0&&(n=0);t===void 0&&(t=0);this.width=r(n);this.height=r(t)}return n.prototype.equals=function(t){return t instanceof n&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.width,this.height)},n}();n.Size=ct;w=function(){function n(n,t,i,u){this.left=r(n);this.top=r(t);this.width=r(i);this.height=r(u)}return Object.defineProperty(n.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),n.prototype.equals=function(t){return t instanceof n&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.left,this.top,this.width,this.height)},n.fromBoundingRect=function(i){if(i.left!=null)return new n(i.left,i.top,i.width,i.height);if(i.x!=null)return new n(i.x,i.y,i.width,i.height);t(!1,'Invalid source rectangle.')},n.union=function(t,i){var r=Math.min(t.left,i.left),u=Math.min(t.top,i.top),f=Math.max(t.right,i.right),e=Math.max(t.bottom,i.bottom);return new n(r,u,f-r,e-u)},n.intersection=function(t,i){var r=Math.max(t.left,i.left),u=Math.max(t.top,i.top),f=Math.min(t.right,i.right),e=Math.min(t.bottom,i.bottom);return new n(r,u,f-r,e-u)},n.prototype.contains=function(i){if(i instanceof c)return i.x>=this.left&&i.x<=this.right&&i.y>=this.top&&i.y<=this.bottom;if(i instanceof n){var r=i;return r.left>=this.left&&r.right<=this.right&&r.top>=this.top&&r.bottom<=this.bottom}t(!1,'Point or Rect expected.')},n.prototype.inflate=function(t,i){return new n(this.left-t,this.top-i,this.width+2*t,this.height+2*i)},n}();n.Rect=w;lt=function(){function t(){}return t.addDays=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate()+t)},t.addMonths=function(n,t){return new Date(n.getFullYear(),n.getMonth()+t,n.getDate())},t.addYears=function(n,t){return new Date(n.getFullYear()+t,n.getMonth(),n.getDate())},t.addHours=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()+t)},t.addMinutes=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()+t)},t.addSeconds=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()+t)},t.sameDate=function(n,t){return i(n)&&i(t)&&n.getFullYear()==t.getFullYear()&&n.getMonth()==t.getMonth()&&n.getDate()==t.getDate()},t.sameTime=function(n,t){return i(n)&&i(t)&&n.getHours()==t.getHours()&&n.getMinutes()==t.getMinutes()&&n.getSeconds()==t.getSeconds()},t.equals=function(n,t){return i(n)&&i(t)&&n.getTime()==t.getTime()},t.fromDateTime=function(n,t){return!n&&!t?null:(n||(n=t),t||(t=n),new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()))},t.toFiscal=function(i,r){var u=n.culture.Globalize.calendar;return o(u.fiscalYearOffsets)?t.addMonths(i,-u.fiscalYearOffsets[r?0:1]):i},t.fromFiscal=function(i,r){var u=n.culture.Globalize.calendar;return o(u.fiscalYearOffsets)?t.addMonths(i,+u.fiscalYearOffsets[r?0:1]):i},t.newDate=function(){var n=new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate())},t.clone=function(n){return t.fromDateTime(n,n)},t}();n.DateTime=lt;n.httpRequest=gi})(wijmo||(wijmo={})),function(n){'use strict';function i(){n.culture=window.wijmo.culture}n.culture=window.wijmo.culture||{Globalize:{numberFormat:{'.':'.',',':',',percent:{pattern:['-n %','n %']},currency:{decimals:2,symbol:'$',pattern:['($n)','$n']}},calendar:{'/':'/',':':':',firstDay:0,days:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],daysAbbr:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],months:['January','February','March','April','May','June','July','August','September','October','November','December'],monthsAbbr:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],am:['AM','A'],pm:['PM','P'],eras:['A.D.','B.C.'],patterns:{d:'M/d/yyyy',D:'dddd, MMMM dd, yyyy',f:'dddd, MMMM dd, yyyy h:mm tt',F:'dddd, MMMM dd, yyyy h:mm:ss tt',t:'h:mm tt',T:'h:mm:ss tt',M:'MMMM d',m:'MMMM d',Y:'MMMM, yyyy',y:'MMMM, yyyy',g:'M/d/yyyy h:mm tt',G:'M/d/yyyy h:mm:ss tt',s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:'dddd, MMMM dd, yyyy h:mm:ss tt'},fiscalYearOffsets:[-3,-3]}}};var t=function(){function t(){}return t.format=function(i,r,u,f){return n.isString(i)?i:n.isNumber(i)?(r=r||(i==Math.round(i)?'n0':'n2'),t.formatNumber(i,r,u,f)):n.isDate(i)?(r=r||'d',t.formatDate(i,r)):i!=null?i.toString():''},t.formatNumber=function(i,r,u,f){var l,p,a;i=n.asNumber(i);r=n.asString(r);var h=n.culture.Globalize.numberFormat,s=r?r.match(/([a-z])(\d*)(,*)(.*)/i):null,o=s?s[1].toLowerCase():'n',c=s&&s[2]?parseInt(s[2]):o=='c'?h.currency.decimals:i==Math.round(i)?0:2,w=s&&s[3]?3*s[3].length:0,b=s&&s[4]?s[4]:h.currency.symbol,v=h['.'],y=h[','],e;if(w&&(i/=Math.pow(10,w)),o=='d'||o=='x'){for(e=Math.round(Math.abs(i)).toString(o=='d'?10:16);e.length<c;)e='0'+e;return i<0&&(e='-'+e),r&&r[0]=='X'&&(e=e.toUpperCase()),e}return o=='p'&&(i=t._mul100(i),i=n.toFixed(i,c,f)),f&&o!='p'&&(i=n.toFixed(i,c,!0)),e=o=='c'||o=='p'?Math.abs(i).toFixed(c):i.toFixed(c),(u||o=='g')&&e.indexOf('.')>-1&&(e=e.replace(/(\.[0-9]*?)0+$/g,'$1'),e=e.replace(/\.$/,'')),v!='.'&&(e=e.replace('.',v)),y&&(o=='n'||o=='c'||o=='p')&&(l=e.indexOf(v),p=/\B(?=(\d\d\d)+(?!\d))/g,e=l>-1?e.substr(0,l).replace(p,y)+e.substr(l):e.replace(p,y)),o=='c'&&(a=h.currency.pattern[i<0?0:1],e=a.replace('n',e).replace('$',b)),o=='p'&&(a=h.percent.pattern[i<0?0:1],e=a.replace('n',e)),e},t.formatDate=function(i,r){var f,e,u;i=n.asDate(i);switch(r){case'r':case'R':return i.toUTCString();case'u':return i.toISOString().replace(/\.\d{3}/,'')}for(r=t._expandFormat(r),f=t._parseDateFormat(r),e='',u=0;u<f.length;u++)e+=t._formatDatePart(i,r,f[u]);return e},t.parseInt=function(n,i){return Math.round(t.parseFloat(n,i))},t.parseFloat=function(t,i){var r=t.indexOf('-')>-1||t.indexOf('(')>-1&&t.indexOf(')')>-1?-1:1,u=t.indexOf('%')>-1?.01:1,f=i?i.match(/,+/):null,e=f?f[0].length*3:0;if(i&&(i[0]=='x'||i[0]=='X'))return t=t.replace(/[^0-9a-f]+.*$/gi,''),parseInt(t,16)*r*u*Math.pow(10,e);var o=n.culture.Globalize.numberFormat['.'],s=new RegExp('[^\\d\\'+o+']','g'),h=t.replace(s,'').replace(o,'.');return parseFloat(h)*r*u*Math.pow(10,e)},t.parseDate=function(i,r){var ut,h,e,p,ht,nt,ct;if(i=n.asString(i),!i)return null;if(r=='u')return new Date(i);if(r=='R'||r=='r')return ut=/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/,h=i.match(ut),h[1]||h[5]?(e=h[1]?new Date(parseInt(h[2]),parseInt(h[3])-1,parseInt(h[4])):new Date,h[5]&&(e.setHours(parseInt(h[6])),e.setMinutes(parseInt(h[7])),e.setSeconds(h[8]?parseInt(h[9]):0))):e=new Date(i),isNaN(e.getTime())?null:e;r=t._expandFormat(r?r:'d');var s=n.culture.Globalize.calendar,ft=t._CJK,lt=new RegExp('(\\'+s['/']+')|(\\'+s[':']+")|(\\d+)|(["+ft+"\\.]{2,})|(["+ft+']+)','gi'),c=i.match(lt),w=t._parseDateFormat(r),y=0,l=-1,a=0,d=1,o=0,b=0,k=0,et=0,tt=-1,ot,it,st,g,rt;if(!c||!c.length||!w||!w.length)return null;for(p=0;p<w.length&&c;p++){var v=p-y,u=v>-1&&v<c.length?c[v]:'',f=w[p].length;switch(w[p]){case'EEEE':case'EEE':case'EE':case'E':case'eeee':case'eee':case'ee':case'e':rt=w[p];case'yyyy':case'yyy':case'yy':case'y':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);l=parseInt(u);break;case'MMMM':case'MMM':for(g=!0,ht=u.toLowerCase(),a=-1,nt=0;nt<12;nt++)if(s.months[nt].toLowerCase().indexOf(ht)==0){a=nt;break}if(a>-1)break;case'MM':case'M':g=!0;f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);a=parseInt(u)-1;break;case'dddd':case'ddd':ot=!0;break;case'dd':case'd':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);d=parseInt(u);it=!0;break;case'hh':case'h':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);o=parseInt(u);o=o==12?0:o;break;case'HH':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);o=parseInt(u);break;case'H':o=parseInt(u);break;case'mm':case'm':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);b=parseInt(u);break;case'ss':case's':f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++);k=parseInt(u);break;case'fffffff':case'FFFFFFF':case'ffffff':case'FFFFFF':case'fffff':case'FFFFF':case'ffff':case'FFFF':case'fff':case'FFF':case'ff':case'FF':case'f':case'F':et=parseInt(u)/Math.pow(10,f-3);break;case'tt':case't':u=u.toUpperCase();(s.pm[0]&&u==s.pm[0]&&o<12||s.pm[1]&&u==s.pm[1]&&o<12)&&(o+=12);break;case'q':case'Q':case'u':case'U':st=!0;break;case'ggg':case'gg':case'g':tt=s.eras.length>1?t._getEra(u,s):-1;break;case s['/']:case s[':']:if(u&&u!=w[p])return null;break;case'K':break;default:t._unquote(w[p])!=u&&y++}}if(g&&it&&(isNaN(o)&&(o=0),isNaN(b)&&(b=0),isNaN(k)&&(k=0)),a<0||a>11||isNaN(a)||d<0||d>31||isNaN(d)||o<0||o>24||isNaN(o)||b<0||b>60||isNaN(b)||k<0||k>60||isNaN(k))return null;if(rt){if(!g)return null;e=new Date(l,a);e=n.DateTime.fromFiscal(e,rt[0]=='E');l=e.getFullYear();a=e.getMonth()}return ot&&!it?null:st&&!g?null:(l<0&&(l=(new Date).getFullYear()),tt>-1?l=l+s.eras[tt].start.getFullYear()-1:l<100&&(ct=n.isNumber(s.twoDigitYearMax)?s.twoDigitYearMax:2029,l+=l+2e3<ct?2e3:1900),e=new Date(l,a,d,o,b+0,k,et),isNaN(e.getTime())?null:e)},t.getFirstDayOfWeek=function(){var t=n.culture.Globalize.calendar.firstDay;return t?t:0},t.getNumberDecimalSeparator=function(){var t=n.culture.Globalize.numberFormat['.'];return t?t:'.'},t._unquote=function(n){return n.length>1&&n[0]==n[n.length-1]&&(n[0]=='\''||n[0]=='\"')?n.substr(1,n.length-2):n},t._parseDateFormat=function(n){var u,e,i,r,f;if(n in t._dateFormatParts)return t._dateFormatParts[n];for(u=[],e='',i=0;i>-1&&i<n.length;i++){if(f=n[i],(f=='\''||f=='"')&&(r=n.indexOf(f,i+1),r>-1)){u.push(n.substring(i,r+1));i=r;continue}for(r=i+1;r<n.length;r++)if(n[r]!=f)break;u.push(n.substring(i,r));i=r-1}return t._dateFormatParts[n]=u,u},t._formatDatePart=function(i,r,u){var f=n.culture.Globalize.calendar,o=0,h=0,l=0,c,e=u.length,s;switch(u){case'yyyy':case'yyy':case'yy':case'y':case'EEEE':case'EEE':case'EE':case'E':case'eeee':case'eee':case'ee':case'e':return c=u[0]=='E'?n.DateTime.toFiscal(i,!0):u[0]=='e'?n.DateTime.toFiscal(i,!1):i,h=c.getFullYear(),f.eras.length>1&&r.indexOf('g')>-1&&(o=t._getEra(i,f),o>-1&&(h=h-f.eras[o].start.getFullYear()+1)),t._zeroPad(h,4).substr(4-u.length);case'MMMM':return f.months[i.getMonth()];case'MMM':return f.monthsAbbr[i.getMonth()];case'MM':case'M':return t._zeroPad(i.getMonth()+1,e);case'dddd':return f.days[i.getDay()];case'ddd':return f.daysAbbr[i.getDay()];case'dd':return t._zeroPad(i.getDate(),2);case'd':return i.getDate().toString();case'hh':case'h':return t._zeroPad(t._h12(i),e);case'HH':case'H':return t._zeroPad(i.getHours(),e);case'mm':case'm':return t._zeroPad(i.getMinutes(),e);case'ss':case's':return t._zeroPad(i.getSeconds(),e);case'fffffff':case'FFFFFFF':case'ffffff':case'FFFFFF':case'fffff':case'FFFFF':case'ffff':case'FFFF':case'fff':case'FFF':case'ff':case'FF':case'f':case'F':return l=i.getMilliseconds()*Math.pow(10,e-3),u[0]=='f'?t._zeroPad(l,e):l.toFixed(0);case'tt':return i.getHours()<12?f.am[0]:f.pm[0];case't':return i.getHours()<12?f.am[1]:f.pm[1];case'q':case'Q':return(Math.floor(i.getMonth()/3)+1).toString();case'u':case'U':return c=n.DateTime.toFiscal(i,u=='U'),(Math.floor(c.getMonth()/3)+1).toString();case'ggg':case'gg':case'g':return f.eras.length>1&&(o=t._getEra(i,f),o>-1)?u=='ggg'?f.eras[o].name:u=='gg'?f.eras[o].name[0]:f.eras[o].symbol:f.eras[0];case':':case'/':return f[u];case'K':return s=i.toString().match(/(\+|\-)(\d{2})(\d{2})/),s?s[1]+s[2]+s[3]:''}return e>1&&u[0]==u[e-1]&&(u[0]=='\"'||u[0]=='\'')?u.substr(1,e-2):u},t._getEra=function(t,i){var r;if(n.isDate(t)){for(r=0;r<i.eras.length;r++)if(t>=i.eras[r].start)return r}else if(n.isString(t))for(r=0;r<i.eras.length;r++)if(i.eras[r].name&&(i.eras[r].name.indexOf(t)==0||i.eras[r].symbol.indexOf(t)==0))return r;return-1},t._expandFormat=function(t){var i=n.culture.Globalize.calendar.patterns[t];return i?i:t},t._zeroPad=function(n,t){var i=n.toFixed(0),r=t-i.length+1;return r>0?Array(r).join('0')+i:i},t._h12=function(t){var r=n.culture.Globalize.calendar,i=t.getHours();return r.am&&r.am[0]&&(i=i%12,i==0&&(i=12)),i},t._mul100=function(n){var t=n.toString(),i=t.indexOf('.');return t.indexOf('e')>-1?n*100:(i<0?t+='00':(i+=2,t=t.replace('.','')+'00',t=t.substr(0,i)+'.'+t.substr(i)),parseFloat(t))},t}();t._CJK='a-z'+'u00c0-u017fu3000-u30ffu4e00-u9faf'.replace(/u/g,'\\u')+'u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff'.replace(/u/g,'\\u');t._dateFormatParts={};n.Globalize=t;n._updateCulture=i}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function n(n){this.path=n}return Object.defineProperty(n.prototype,"path",{get:function(){return this._path},set:function(n){var t,i,r;for(this._path=n,this._parts=n?n.split('.'):[],t=0;t<this._parts.length;t++)i=this._parts[t],r=i.indexOf('['),r>-1&&(this._parts[t]=i.substr(0,r),this._parts.splice(++t,0,parseInt(i.substr(r+1))));this._key=this._parts.length==1?this._parts[0]:null},enumerable:!0,configurable:!0}),n.prototype.getValue=function(n){if(n){if(this._key)return n[this._key];if(this._path&&this._path in n)return n[this._path];for(var t=0;t<this._parts.length&&n;t++)n=n[this._parts[t]]}return n},n.prototype.setValue=function(n,t){if(n){if(this._path in n){n[this._path]=t;return}for(var i=0;i<this._parts.length-1;i++)if(n=n[this._parts[i]],n==null)return;n[this._parts[this._parts.length-1]]=t}},n}();n.Binding=t}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){'use strict';var f=function(){function n(n,t){this.handler=n;this.self=t}return n}(),e=function(){function i(){this._handlers=[]}return i.prototype.addHandler=function(t,i){n.asFunction(t);this._handlers.push(new f(t,i))},i.prototype.removeHandler=function(t,i){var r,u;for(n.asFunction(t),r=0;r<this._handlers.length;r++)if(u=this._handlers[r],(u.handler==t||t==null)&&(u.self==i||i==null)&&(this._handlers.splice(r,1),t&&i))break},i.prototype.removeAllHandlers=function(){this._handlers.length=0},i.prototype.raise=function(n,i){var r,u;for(i===void 0&&(i=t.empty),r=0;r<this._handlers.length;r++)u=this._handlers[r],u.handler.call(u.self,n,i)},Object.defineProperty(i.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),i}(),t,i,r,u;n.Event=e;t=function(){function n(){}return n}();t.empty=new t;n.EventArgs=t;i=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.cancel=!1,t}return __extends(t,n),t}(t);n.CancelEventArgs=i;r=function(n){function t(t,i,r){var u=n.call(this)||this;return u._name=t,u._oldVal=i,u._newVal=r,u}return __extends(t,n),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),t}(t);n.PropertyChangedEventArgs=r;u=function(n){function t(t,i){var r=n.call(this)||this;return r._xhr=t,r._msg=i,r}return __extends(t,n),Object.defineProperty(t.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._msg},set:function(n){this._msg=n},enumerable:!0,configurable:!0}),t}(i);n.RequestErrorEventArgs=u}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(i,r,u){var h,f,c,o;if(r===void 0&&(r=null),u===void 0&&(u=!1),h=this,this._focus=!1,this._updating=0,this._fullUpdate=!1,this.gotFocus=new n.Event,this.lostFocus=new n.Event,t._updateWme(),n.assert(t.getControl(i)==null,'Element is already hosting a control.'),f=n.getElement(i),n.assert(f!=null,'Cannot find the host element.'),this._orgOuter=f.outerHTML,this._orgInner=f.innerHTML,this._orgTag=f.tagName,(f.tagName=='INPUT'||f.tagName=='SELECT')&&(f=this._replaceWithDiv(f)),this._e=f,f[t._DATA_KEY]=this,u==!0&&(this._szCtl=new n.Size(f.offsetWidth,f.offsetHeight),c=this._handleResize.bind(this),this.addEventListener(window,'resize',c)),this.addEventListener(f,'focus',function(){setTimeout(function(){h._updateFocusState()})},!0),this.addEventListener(f,'blur',function(){setTimeout(function(){h._updateFocusState()},20)},!0),o=this._handleDisabled.bind(this),this.addEventListener(f,'mousedown',o,!0),this.addEventListener(f,'mouseup',o,!0),this.addEventListener(f,'click',o,!0),this.addEventListener(f,'dblclick',o,!0),this.addEventListener(f,'keydown',o,!0),this.addEventListener(f,'wheel',o,!0),t._touching==null&&(t._touching=!1,'ontouchstart'in window||'onpointerdown'in window)){var e=document.body,l=this._handleTouchStart,s=this._handleTouchEnd;'ontouchstart'in window?(e.addEventListener('touchstart',l),e.addEventListener('touchend',s),e.addEventListener('touchcancel',s),e.addEventListener('touchleave',s)):'onpointerdown'in window&&(e.addEventListener('pointerdown',l),e.addEventListener('pointerup',s),e.addEventListener('pointerout',s),e.addEventListener('pointercancel',s),e.addEventListener('pointerleave',s))}}return t.prototype.getTemplate=function(){for(var t,n=Object.getPrototypeOf(this);n;n=Object.getPrototypeOf(n))if(t=n.constructor.controlTemplate,t)return t;return null},t.prototype.applyTemplate=function(i,r,u,f){var e=this._e,l,a,b,v,k,d,g,w,s,y,c,h;i&&n.addClass(e,i);l=null;r&&(l=n.createElement(r,e));var nt=e.querySelectorAll('input'),o=nt.length==1?nt[0]:null,p=e.attributes;if(o&&p)for(a=0;a<p.length;a++)b=p[a].name,b.match(t._rxInputAtts)&&o.setAttribute(b,p[a].value);if(o&&e.id){for(v=e;v.parentElement;)v=v.parentElement;k=v.querySelector('label[for="'+e.id+'"]');k instanceof HTMLLabelElement&&(d=n.getUniqueId(e.id+'_input'),o.id=d,k.htmlFor=d)}if(o&&(g=document.createEvent('HTMLEvents'),w=o.value,g.initEvent('change',!0,!1),this.addEventListener(o,'input',function(){w=o.value},!0),this.gotFocus.addHandler(function(){w=o.value}),this.lostFocus.addHandler(function(){w!=o.value&&o.dispatchEvent(g)})),e.getAttribute('tabindex')||(e.tabIndex=o!=null?-1:0),this._updateState(),u)for(s in u){if(y=u[s],this[s]=l.querySelector('[wj-part="'+y+'"]'),this[s]==null&&l.getAttribute('wj-part')==y&&(this[s]=l),this[s]==null)throw'Missing template part: "'+y+'"';y==f&&(c='name',h=e.attributes[c],h&&h.value&&this[s].setAttribute(c,h.value),c='accesskey',h=e.attributes[c],h&&h.value&&(this[s].setAttribute(c,h.value),e.removeAttribute(c)))}return l},t.prototype.dispose=function(){for(var f,i,e,r,h,o,s=this._e.querySelectorAll('.wj-control'),u=0;u<s.length;u++)f=t.getControl(s[u]),f&&f.dispose();this._toInv&&clearTimeout(this._toInv);this.removeEventListener();for(i in this)i.length>2&&i.indexOf('on')==0&&(e=this[i[2].toLowerCase()+i.substr(3)],e instanceof n.Event&&e.removeAllHandlers());if(r=this.collectionView,r instanceof n.collections.CollectionView)for(h in r)o=r[h],o instanceof n.Event&&o.removeHandler(null,this);this._e.parentNode&&(this._e.outerHTML=this._orgOuter);this._e[t._DATA_KEY]=null;this._e=this._orgOuter=this._orgInner=this._orgTag=null},t.getControl=function(i){var r=n.getElement(i);return r?n.asType(r[t._DATA_KEY],t,!0):null},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightToLeft",{get:function(){return this._rtlDir==null&&(this._rtlDir=this._e?getComputedStyle(this._e).direction=='rtl':!1),this._rtlDir},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._e&&this._e.focus()},t.prototype.containsFocus=function(){var f,i,r,e,u;if(!this._e)return!1;for(f=this._e.querySelectorAll('.wj-control'),i=0;i<f.length;i++)if(r=t.getControl(f[i]),r&&r!=this&&r.containsFocus())return!0;return(e=n.getActiveElement(),u=t.getControl(n.closest(e,'.wj-control.wj-popup')),u&&u.owner&&n.contains(this._e,u.owner))?!0:n.contains(this._e,e)},t.prototype.invalidate=function(n){var i=this;n===void 0&&(n=!0);this._rtlDir=null;this._fullUpdate=this._fullUpdate||n;this._toInv&&(clearTimeout(this._toInv),this._toInv=null);this.isUpdating||(this._toInv=setTimeout(function(){i.refresh(i._fullUpdate)},t._REFRESH_INTERVAL))},t.prototype.refresh=function(n){n===void 0&&(n=!0);!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._rtlDir=null,this._fullUpdate=!1,t._updateWme())},t.invalidateAll=function(n){var i,r;if(n||(n=document.body),n.children)for(i=0;i<n.children.length;i++)t.invalidateAll(n.children[i]);r=t.getControl(n);r&&r.invalidate()},t.refreshAll=function(n){var i,r;if(n||(n=document.body),n.children)for(i=0;i<n.children.length;i++)t.refreshAll(n.children[i]);r=t.getControl(n);r&&r.refresh()},t.disposeAll=function(n){var r=t.getControl(n),i;if(r)r.dispose();else if(n.children)for(i=0;i<n.children.length;i++)t.disposeAll(n.children[i])},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--;this._updating<=0&&this.invalidate()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(n){try{this.beginUpdate();n()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"isTouching",{get:function(){return t._touching},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&this._e.getAttribute('disabled')!=null},set:function(t){t=n.asBoolean(t,!0);t!=this.isDisabled&&n.enable(this._e,!t)},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){t&&(this.beginUpdate(),n.copy(this,t),this.endUpdate())},t.prototype.addEventListener=function(n,t,i,r){r===void 0&&(r=!1);n&&(n.addEventListener(t,i,r),this._listeners==null&&(this._listeners=[]),this._listeners.push({target:n,type:t,fn:i,capture:r}))},t.prototype.removeEventListener=function(n,t,i,r){var e=0,f,u;if(this._listeners)for(f=0;f<this._listeners.length;f++)u=this._listeners[f],(n==null||n==u.target)&&(t==null||t==u.type)&&(i==null||i==u.fn)&&(r==null||r==u.capture)&&(u.target.removeEventListener(u.type,u.fn,u.capture),this._listeners.splice(f,1),f--,e++);return e},t.prototype.onGotFocus=function(n){this.gotFocus.raise(this,n)},t.prototype.onLostFocus=function(n){this.lostFocus.raise(this,n)},t._updateWme=function(){var r,u,i;if(!t._wme||!t._wme.parentElement||!t._wme.offsetWidth||!t._wme.offsetHeight){r=Array(Math.round(Math.random()*10)).join(' ');u='Powered by Wijmo '+n.getVersion()+' Eval';t._wme=n.createElement('<div><a href="http://wijmo.com/products/wijmo-5/eval/'+r+'">'+u+r+'</a></div>');i={position:'fixed',padding:5,margin:5,background:'#fff',boxShadow:'0 0 10px rgba(0,0,0,0.25)',fontSize:'11pt',zIndex:1e3,opacity:.8,display:'block',visibility:'visible',height:'auto',width:'auto',transform:'none'};switch(Math.round(Math.random()*100)%2){case 0:i.right=i.bottom=0;break;case 1:i.left=i.bottom=0;break;case 2:i.right=i.top=0}n.setCss(t._wme,i);document.body.appendChild(t._wme)}},t.prototype._handleResize=function(){if(this._e.parentElement){var t=new n.Size(this._e.offsetWidth,this._e.offsetHeight);t.equals(this._szCtl)||(this._szCtl=t,this.invalidate())}},t.prototype._updateFocusState=function(){var n=this;setTimeout(function(){for(var i,u,r=n._e;r;r=r.parentElement)i=t.getControl(r),i&&(u=i.containsFocus(),u!=i._focus&&(i._focus=u,u?i.onGotFocus():i.onLostFocus(),i._updateState()))})},t.prototype._updateState=function(){var t=this.hostElement,i,r;t&&(n.toggleClass(t,'wj-state-focused',this.containsFocus()),i=t.querySelector('input'),i instanceof HTMLInputElement&&(n.toggleClass(t,'wj-state-empty',i.value.length==0),n.toggleClass(t,'wj-state-readonly',i.readOnly),r=i.validationMessage,n.toggleClass(t,'wj-state-invalid',r&&r.length>0)))},t.prototype._handleTouchStart=function(n){(n.pointerType==null||n.pointerType=='touch')&&(t._touching=!0)},t.prototype._handleTouchEnd=function(n){(n.pointerType==null||n.pointerType=='touch')&&setTimeout(function(){t._touching=!1},400)},t.prototype._handleDisabled=function(n){this.isDisabled&&(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation())},t.prototype._replaceWithDiv=function(n){var r=document.createElement('div'),u,i,f;for(n.parentElement.replaceChild(r,n),r.innerHTML=n.innerHTML,u=n.attributes,i=0;i<u.length;i++)f=u[i].name,(f.match(/id|style|class/i)||f.match(t._rxInputAtts))&&r.setAttribute(f,u[i].value);return r},t}();t._DATA_KEY='wj-Control';t._REFRESH_INTERVAL=10;t._rxInputAtts=/name|autofocus|autocomplete|minlength|maxlength|pattern|placeholder/i;n.Control=t}(wijmo||(wijmo={})),function(n){'use strict';function i(i,r,u){var v=0,e=0,l=0,s=0,h=null,c=null,y=null,p=u?new n.Binding(u):null,a,f,o;if(i=n.asEnum(i,t),i==t.CntAll)return r.length;for(a=0;a<r.length;a++){if(f=r[a],p&&(f=p.getValue(f)),i==t.First)return f;f!=null&&(v++,(h==null||f<h)&&(h=f),(c==null||f>c)&&(c=f),y=f,n.isNumber(f)&&!isNaN(f)?(e++,l+=f,s+=f*f):n.isBoolean(f)&&(e++,f==!0&&(l++,s++)))}o=e==0?0:l/e;switch(i){case t.Avg:return o;case t.Cnt:return v;case t.Max:return c;case t.Min:return h;case t.Rng:return c-h;case t.Sum:return l;case t.VarPop:return e<=1?0:s/e-o*o;case t.StdPop:return e<=1?0:Math.sqrt(s/e-o*o);case t.Var:return e<=1?0:(s/e-o*o)*e/(e-1);case t.Std:return e<=1?0:Math.sqrt((s/e-o*o)*e/(e-1));case t.Last:return y}throw'Invalid aggregate type.';}var t;(function(n){n[n.None=0]="None";n[n.Sum=1]="Sum";n[n.Cnt=2]="Cnt";n[n.Avg=3]="Avg";n[n.Max=4]="Max";n[n.Min=5]="Min";n[n.Rng=6]="Rng";n[n.Std=7]="Std";n[n.Var=8]="Var";n[n.StdPop=9]="StdPop";n[n.VarPop=10]="VarPop";n[n.CntAll=11]="CntAll";n[n.First=12]="First";n[n.Last=13]="Last"})(t=n.Aggregate||(n.Aggregate={}));n.getAggregate=i}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var r,i,f,e,u,o;(function(n){n[n.Add=0]="Add";n[n.Remove=1]="Remove";n[n.Change=2]="Change";n[n.Reset=3]="Reset"})(r=t.NotifyCollectionChangedAction||(t.NotifyCollectionChangedAction={}));i=function(n){function t(t,i,u){t===void 0&&(t=r.Reset);i===void 0&&(i=null);u===void 0&&(u=-1);var f=n.call(this)||this;return f.action=t,f.item=i,f.index=u,f}return __extends(t,n),t}(n.EventArgs);i.reset=new i(r.Reset);t.NotifyCollectionChangedEventArgs=i;f=function(){function t(t,i){this._bnd=new n.Binding(t);this._asc=i}return Object.defineProperty(t.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),t}();t.SortDescription=f;e=function(n){function t(t){var i=n.call(this)||this;return i.newPageIndex=t,i}return __extends(t,n),t}(n.CancelEventArgs);t.PageChangingEventArgs=e;u=function(){function n(){}return n.prototype.groupNameFromItem=function(){return''},n.prototype.namesMatch=function(n,t){return n===t},n}();t.GroupDescription=u;o=function(t){function i(i,r){var u=t.call(this)||this;return u._bnd=new n.Binding(i),u._converter=r,u}return __extends(i,t),Object.defineProperty(i.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),i.prototype.groupNameFromItem=function(n){return this._converter?this._converter(n,this.propertyName):this._bnd.getValue(n)},i.prototype.namesMatch=function(n,t){return n===t},i}(u);t.PropertyGroupDescription=o})(t=n.collections||(n.collections={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){'use strict';var i=function(){function n(){this.length=0;Array.apply(this,arguments)}return n.prototype.pop=function(){return null},n.prototype.push=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 0},n.prototype.splice=function(){return null},n.prototype.slice=function(){return null},n.prototype.indexOf=function(){return-1},n.prototype.sort=function(){return null},n.prototype.forEach=function(){return null},n.prototype.filter=function(){return null},n}(),r;t.ArrayBase=i;i.prototype=Array.prototype;r=function(i){function r(t){var r=i.call(this)||this,u;if(r._updating=0,r.collectionChanged=new n.Event,t){for(t=n.asArray(t),r._updating++,u=0;u<t.length;u++)r.push(t[u]);r._updating--}return r}return __extends(r,i),r.prototype.push=function(){for(var f,r,n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];for(f=this.length,r=0;n&&r<n.length;r++)f=i.prototype.push.call(this,n[r]),this._updating||this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Add,n[r],f-1);return f},r.prototype.pop=function(){var n=i.prototype.pop.call(this);return this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Remove,n,this.length),n},r.prototype.splice=function(n,r,u){var f;return r&&u?(f=i.prototype.splice.call(this,n,r,u),r==1?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,u,n):this._raiseCollectionChanged(),f):u?(f=i.prototype.splice.call(this,n,0,u),this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Add,u,n),f):(f=i.prototype.splice.call(this,n,r),r==1?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Remove,f[0],n):this._raiseCollectionChanged(),f)},r.prototype.slice=function(n,t){return i.prototype.slice.call(this,n,t)},r.prototype.indexOf=function(n,t){return i.prototype.indexOf.call(this,n,t)},r.prototype.sort=function(n){var t=i.prototype.sort.call(this,n);return this._raiseCollectionChanged(),t},r.prototype.insert=function(n,t){this.splice(n,0,t)},r.prototype.remove=function(n){var t=this.indexOf(n);return t>-1?(this.removeAt(t),!0):!1},r.prototype.removeAt=function(n){this.splice(n,1)},r.prototype.setAt=function(n,t){n>this.length&&(this.length=n);this.splice(n,1,t)},r.prototype.clear=function(){this.length!==0&&(this.splice(0,this.length),this._raiseCollectionChanged())},r.prototype.beginUpdate=function(){this._updating++},r.prototype.endUpdate=function(){this._updating>0&&(this._updating--,this._updating==0&&this._raiseCollectionChanged())},Object.defineProperty(r.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),r.prototype.deferUpdate=function(n){try{this.beginUpdate();n()}finally{this.endUpdate()}},r.prototype.implementsInterface=function(n){return n=='INotifyCollectionChanged'},r.prototype.onCollectionChanged=function(n){n===void 0&&(n=t.NotifyCollectionChangedEventArgs.reset);this.isUpdating||this.collectionChanged.raise(this,n)},r.prototype._raiseCollectionChanged=function(n,i,r){if(n===void 0&&(n=t.NotifyCollectionChangedAction.Reset),!this.isUpdating){var u=new t.NotifyCollectionChangedEventArgs(n,i,r);this.onCollectionChanged(u)}},r}(i);t.ObservableArray=r})(t=n.collections||(n.collections={}))}(wijmo||(wijmo={})),function(n){var t;(function(t){'use strict';var r=function(){function r(i,r){var u=this;this._idx=-1;this._srtDsc=new t.ObservableArray;this._grpDesc=new t.ObservableArray;this._newItem=null;this._edtItem=null;this._pgSz=0;this._pgIdx=0;this._updating=0;this._stableSort=!1;this._canFilter=!0;this._canGroup=!0;this._canSort=!0;this._canAddNew=!0;this._canCancelEdit=!0;this._canRemove=!0;this._canChangePage=!0;this._trackChanges=!1;this._chgAdded=new t.ObservableArray;this._chgRemoved=new t.ObservableArray;this._chgEdited=new t.ObservableArray;this.collectionChanged=new n.Event;this.sourceCollectionChanging=new n.Event;this.sourceCollectionChanged=new n.Event;this.currentChanged=new n.Event;this.currentChanging=new n.Event;this.pageChanged=new n.Event;this.pageChanging=new n.Event;this._srtDsc.collectionChanged.addHandler(function(){for(var r=u._srtDsc,i=0;i<r.length;i++)n.assert(r[i]instanceof t.SortDescription,'sortDescriptions array must contain SortDescription objects.');u.canSort&&u.refresh()});this._grpDesc.collectionChanged.addHandler(function(){for(var r=u._grpDesc,i=0;i<r.length;i++)n.assert(r[i]instanceof t.GroupDescription,'groupDescriptions array must contain GroupDescription objects.');u.canGroup&&u.refresh()});this.sourceCollection=i?i:new t.ObservableArray;r&&(this.beginUpdate(),n.copy(this,r),this.endUpdate())}return r.prototype._copy=function(i,r){var e,f,u;if(i=='sortDescriptions'){for(this.sortDescriptions.clear(),e=n.asArray(r),f=0;f<e.length;f++)u=e[f],n.isString(u)&&(u=new t.SortDescription(u,!0)),this.sortDescriptions.push(u);return!0}if(i=='groupDescriptions'){for(this.groupDescriptions.clear(),e=n.asArray(r),f=0;f<e.length;f++)u=e[f],n.isString(u)&&(u=new t.PropertyGroupDescription(u)),this.groupDescriptions.push(u);return!0}return!1},Object.defineProperty(r.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=n.asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=n.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=n.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){this._stableSort=n.asBoolean(t)},enumerable:!0,configurable:!0}),r.prototype.getAggregate=function(t,i,r){var u=r?this._pgView:this._view;return n.getAggregate(t,u,i)},Object.defineProperty(r.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),r.prototype.clearChanges=function(){this._chgAdded.clear();this._chgRemoved.clear();this._chgEdited.clear()},r.prototype.implementsInterface=function(n){switch(n){case'ICollectionView':case'IEditableCollectionView':case'IPagedCollectionView':case'INotifyCollectionChanged':return!0}return!1},Object.defineProperty(r.prototype,"getError",{get:function(){return this._getError},set:function(t){this._getError=n.asFunction(t)},enumerable:!0,configurable:!0}),r.prototype.onCollectionChanged=function(n){n===void 0&&(n=t.NotifyCollectionChangedEventArgs.reset);this._committing||this._canceling||n.action!=t.NotifyCollectionChangedAction.Change||n.item==this.currentEditItem||this._trackItemChanged(n.item);this.collectionChanged.raise(this,n)},r.prototype._raiseCollectionChanged=function(n,i,r){n===void 0&&(n=t.NotifyCollectionChangedAction.Reset);var u=new t.NotifyCollectionChangedEventArgs(n,i,r);this.onCollectionChanged(u)},r.prototype.onSourceCollectionChanging=function(n){return this.sourceCollectionChanging.raise(this,n),!n.cancel},r.prototype.onSourceCollectionChanged=function(n){this.sourceCollectionChanged.raise(this,n)},Object.defineProperty(r.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(n){this.moveCurrentTo(n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentPosition",{get:function(){return this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=n.asFunction(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._src){if(!this.onSourceCollectionChanging(new n.CancelEventArgs))return;var i=this.currentPosition;this.commitEdit();this.commitNew();this._ncc!=null&&this._ncc.collectionChanged.removeHandler(this._sourceChanged);this._src=n.asArray(t,!1);this._ncc=n.tryCast(this._src,'INotifyCollectionChanged');this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this);this.clearChanges();this.refresh();this.moveCurrentToFirst();this.onSourceCollectionChanged();this.currentPosition<0&&i>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),r.prototype._sourceChanged=function(){this._updating<=0&&this.refresh()},r.prototype.contains=function(n){return this._pgView.indexOf(n)>-1},r.prototype.moveCurrentTo=function(n){return this.moveCurrentToPosition(this._pgView.indexOf(n))},r.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},r.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},r.prototype.moveCurrentToPrevious=function(){return this._idx>0?this.moveCurrentToPosition(this._idx-1):!1},r.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},r.prototype.moveCurrentToPosition=function(t){if(t>=-1&&t<this._pgView.length){var i=new n.CancelEventArgs;this._idx!=t&&this.onCurrentChanging(i)&&(this._edtItem&&this._pgView[t]!=this._edtItem&&this.commitEdit(),this._newItem&&this._pgView[t]!=this._newItem&&this.commitNew(),this._idx=t,this.onCurrentChanged())}return this._idx==t},r.prototype.refresh=function(){this._updating>0||this._newItem||this._edtItem||(this._performRefresh(),this.onCollectionChanged())},r.prototype._performRefresh=function(){var i,t;this._updating>0||(i=this.currentItem,this._view=this._src?this._filter&&this.canFilter?this._performFilter(this._src):this._srtDsc.length>0&&this.canSort?this._src.slice(0):this._src:[],this.canSort&&this._srtDsc.length>0&&this._performSort(this._view),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=n.clamp(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups)),t=this._pgView.indexOf(i),t<0&&(t=Math.min(this._idx,this._pgView.length-1)),this._idx=t,this._digest=this._getGroupsDigest(this.groups),this.currentItem!==i&&this.onCurrentChanged())},r.prototype._performSort=function(n){var i,r,t;if(this._stableSort)for(i=n.map(function(n,t){return{item:n,index:t}}),r=this._compareItems(),i.sort(function(n,t){var i=r(n.item,t.item);return i==0?n.index-t.index:i}),t=0;t<n.length;t++)n[t]=i[t].item;else n.sort(this._compareItems())},r.prototype._compareItems=function(){var i=this._srtDsc,t=this._srtCvt,r=this._srtCmp,u=!0,n=0;return function(f,e){for(var l,a,c=0;c<i.length;c++){var h=i[c],o=h._bnd.getValue(f),s=h._bnd.getValue(e);if(t&&(o=t(h,f,o,u),s=t(h,e,s,!1),u=!1),r&&(n=r(o,s),n!=null))return h.ascending?+n:-n;if(o!==o&&(o=null),s!==s&&(s=null),typeof o=='string'&&typeof s=='string'&&(l=o.toLowerCase(),a=s.toLowerCase(),l!=a&&(o=l,s=a)),o!=null&&s==null)return-1;if(o==null&&s!=null)return 1;if(n=o<s?-1:o>s?1:0,n!=0)return h.ascending?+n:-n}return 0}},r.prototype._performFilter=function(n){return this.canFilter&&this._filter?n.filter(this._filter,this):n},r.prototype.onCurrentChanged=function(t){t===void 0&&(t=n.EventArgs.empty);this.currentChanged.raise(this,t)},r.prototype.onCurrentChanging=function(n){return this.currentChanging.raise(this,n),!n.cancel},Object.defineProperty(r.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),r.prototype.beginUpdate=function(){this._updating++},r.prototype.endUpdate=function(){this._updating--;this._updating<=0&&this.refresh()},Object.defineProperty(r.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),r.prototype.deferUpdate=function(n){try{this.beginUpdate();n()}finally{this.endUpdate()}},Object.defineProperty(r.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){this._canAddNew=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isAddingNew",{get:function(){return this._newItem!=null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEditingItem",{get:function(){return this._edtItem!=null},enumerable:!0,configurable:!0}),r.prototype.editItem=function(n){n!=this._edtItem&&this.moveCurrentTo(n)&&(this.commitEdit(),this._edtItem=n,this._edtClone={},this._extend(this._edtClone,this._edtItem))},r.prototype.commitEdit=function(){var n=this._edtItem,r,i,u;n!=null&&(this._committing=!0,r=this._sameContent(n,this._edtClone),this._edtItem=null,this._edtClone=null,i=this._pgView.indexOf(n),u=this._digest,this._performRefresh(),r||this._trackItemChanged(n),this._pgView.indexOf(n)==i&&u==this._digest?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,n,i):this._raiseCollectionChanged(),this._committing=!1)},r.prototype.cancelEdit=function(){var r=this._edtItem,i;if(r!=null){if(this._edtItem=null,!this.canCancelEdit){n.assert(!1,'cannot cancel edits (canCancelEdit == false).');return}if(i=this._src.indexOf(r),i<0||!this._edtClone)return;this._extend(this._src[i],this._edtClone);this._edtClone=null;this._canceling=!0;this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,r,i);this._canceling=!1}},r.prototype.addNew=function(){var i,u,r;if(arguments.length>0&&n.assert(!1,'addNew does not take any parameters, it creates the new items.'),this.commitEdit(),this.commitNew(),!this.canAddNew)return n.assert(!1,'cannot add items (canAddNew == false).'),null;if(i=null,u=this.sourceCollection,i=this.newItemCreator?this.newItemCreator():u&&u.length?new u[0].constructor:{},i!=null){if(this._newItem=i,this._updating++,this._src.push(i),this._updating--,this._pgView!=this._src&&this._pgView.push(i),this.groups&&this.groups.length)for(r=this.groups[this.groups.length-1],r.items.push(i);r.groups&&r.groups.length;)r=r.groups[r.groups.length-1],r.items.push(i);this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Add,i,this._pgView.length-1);this.moveCurrentTo(i)}return this._newItem},r.prototype.commitNew=function(){var n=this._newItem,i,u,r;n!=null&&(this._newItem=null,i=this._pgView.indexOf(n),u=this._digest,this._performRefresh(),this._trackChanges==!0&&(r=this._chgEdited.indexOf(n),r>-1&&this._chgEdited.removeAt(r),this._chgAdded.indexOf(n)<0&&this._chgAdded.push(n)),this._pgView.indexOf(n)==i&&u==this._digest?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,n,i):this._raiseCollectionChanged())},r.prototype.cancelNew=function(){var n=this._newItem;n!=null&&this.remove(n)},r.prototype.remove=function(i){var e=i==this._newItem,r,o,s,u,f,h,c,l;if(e&&(this._newItem=null),i==this._edtItem&&this.cancelEdit(),!this.canRemove){n.assert(!1,'cannot remove items (canRemove == false).');return}r=this._src.indexOf(i);r>-1&&(o=this.currentItem,this._updating++,this._src.splice(r,1),this._updating--,s=this._digest,this._performRefresh(),this._trackChanges==!0&&(u=this._chgAdded.indexOf(i),u>-1&&this._chgAdded.removeAt(u),f=this._chgEdited.indexOf(i),f>-1&&this._chgEdited.removeAt(f),h=this._chgRemoved.indexOf(i),h<0&&!e&&u<0&&this._chgRemoved.push(i)),c=this.sortDescriptions.length>0,l=this.pageSize>0&&this._pgIdx>-1,c||l||s!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Remove,i,r),this.currentItem!==o&&this.onCurrentChanged())},r.prototype.removeAt=function(t){t=n.asInt(t);this.remove(this._pgView[t])},r.prototype._trackItemChanged=function(n){var u,i,f,r;if(this._trackChanges&&(u=this.sourceCollection,u&&u.indexOf(n)>-1))if(i=this._chgEdited.indexOf(n),f=t.NotifyCollectionChangedAction.Change,i<0&&this._chgAdded.indexOf(n)<0)this._chgEdited.push(n);else if(i>-1){r=new t.NotifyCollectionChangedEventArgs(f,n,i);this._chgEdited.onCollectionChanged(r)}else if(i=this._chgAdded.indexOf(n),i>-1){r=new t.NotifyCollectionChangedEventArgs(f,n,i);this._chgAdded.onCollectionChanged(r)}},r.prototype._extend=function(n,t){for(var i in t)n[i]=t[i]},r.prototype._sameContent=function(n,t){for(var i in t)if(!this._sameValue(n[i],t[i]))return!1;for(i in n)if(!this._sameValue(n[i],t[i]))return!1;return!0},r.prototype._sameValue=function(t,i){return t===i||n.DateTime.equals(t,i)},Object.defineProperty(r.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=n.asInt(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),r.prototype.moveToFirstPage=function(){return this.moveToPage(0)},r.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},r.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},r.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},r.prototype.moveToPage=function(i){var r=n.clamp(i,0,this.pageCount-1),u;return r!=this._pgIdx&&(this.canChangePage||n.assert(!1,'cannot change pages (canChangePage == false).'),u=new t.PageChangingEventArgs(r),this.onPageChanging(u)&&(this._pgIdx=r,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&this.groupDescriptions.length!=0?this.refresh():this.onCollectionChanged(),this.onPageChanged())),this._pgIdx==i},r.prototype.onPageChanged=function(t){t===void 0&&(t=n.EventArgs.empty);this.pageChanged.raise(this,t)},r.prototype.onPageChanging=function(n){return this.pageChanging.raise(this,n),!n.cancel},r.prototype._getFullGroup=function(n){var t=this._getGroupByPath(this._fullGroups,n.level,n._path);return t!=null&&(n=t),n},r.prototype._getGroupByPath=function(n,t,i){for(var r,u=0;u<n.length;u++)if((r=n[u],r.level==t&&r._path==i)||r.level<t&&i.indexOf(r._path)==0&&(r=this._getGroupByPath(r.groups,t,i),r!=null))return r;return null},r.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var n=this._pgSz*this._pgIdx,t=Math.min(n+this._pgSz,this._view.length);return this._view.slice(n,t)},r.prototype._createGroups=function(t){var u,i,e;if(!this._grpDesc||!this._grpDesc.length)return null;var s=[],h={},r=null;for(u=0;u<t.length;u++){var c=t[u],l=s,a=this._grpDesc.length,f='';for(i=0;i<a;i++){var v=this._grpDesc[i],o=v.groupNameFromItem(c,i),y=i==a-1;r=h[f];!r&&n.isPrimitive(o)&&(r={},h[f]=r);e=this._getGroup(v,l,r,o,i,y);f+='/'+o;e._path=f;y&&e.items.push(c);l=e.groups}}return s},r.prototype._getGroupsDigest=function(n){for(var t,i='',r=0;n!=null&&r<n.length;r++)t=n[r],i+='{'+t.name+':'+(t.items?t.items.length:'*'),t.groups.length>0&&(i+=',',i+=this._getGroupsDigest(t.groups)),i+='}';return i},r.prototype._mergeGroupItems=function(n){for(var i,f,t,r,e=[],u=0;u<n.length;u++){if(i=n[u],!i._isBottomLevel)for(f=this._mergeGroupItems(i.groups),t=0,r=f.length;t<r;t++)i._items.push(f[t]);for(t=0,r=i._items.length;t<r;t++)e.push(i._items[t])}return e},r.prototype._getGroup=function(t,r,u,f,e,o){var c,s,h;if(u&&n.isPrimitive(f)){if(c=u[f],c)return c}else for(s=0;s<r.length;s++)if(t.namesMatch(r[s].name,f))return r[s];return h=new i(t,f,e,o),r.push(h),u&&(u[f]=h),h},r}(),i;t.CollectionView=r;i=function(){function t(n,t,i,r){this._gd=n;this._name=t;this._level=i;this._isBottomLevel=r;this._groups=[];this._items=[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,i,u){var f=n.tryCast(u,r),e=f?f._getFullGroup(this):this;return n.getAggregate(t,e.items,i)},t}();t.CollectionViewGroup=i})(t=n.collections||(n.collections={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){'use strict';var i=function(){function i(t){this._showAutoTipBnd=this._showAutoTip.bind(this);this._hideAutoTipBnd=this._hideAutoTip.bind(this);this._html=!0;this._gap=6;this._showAtMouse=!1;this._showDelay=500;this._hideDelay=0;this._tips=[];this.popup=new n.Event;n.copy(this,t)}return i.prototype.setTooltip=function(t,i){t=n.getElement(t);i=this._getContent(i);var r=this._indexOf(t);r>-1&&(this._detach(t),this._tips.splice(r,1));i&&(this._attach(t),this._tips.push({element:t,content:i}))},i.prototype.show=function(r,u,f){var s=this,e,o;r=n.getElement(r);u=this._getContent(u);f||(f=n.Rect.fromBoundingRect(r.getBoundingClientRect()));e=i._eTip;e||(e=i._eTip=document.createElement('div'),n.addClass(e,'wj-tooltip'),e.style.visibility='none',document.body.appendChild(e));this._setContent(u);o=new t(u);this.onPopup(o);o.content&&!o.cancel&&(this._setContent(o.content),e.style.minWidth='',f=new n.Rect(f.left-(e.offsetWidth-f.width)/2,f.top-this.gap,e.offsetWidth,f.height+2*this.gap),n.showPopup(e,f,!0),document.addEventListener('mousedown',function(n){n.defaultPrevented||s._hideAutoTip()}))},i.prototype.hide=function(){i._eTip&&(i._eTip.style.visibility='hidden',i._eTip.innerHTML='');document.removeEventListener('mousedown',this._hideAutoTipBnd)},i.prototype.dispose=function(){var n=this;this._tips.forEach(function(t){n._detach(t.element)});this._tips.splice(0,this._tips.length)},Object.defineProperty(i.prototype,"isVisible",{get:function(){return i._eTip&&i._eTip.style.visibility!='hidden'},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=n.asInt(t)},enumerable:!0,configurable:!0}),i.prototype.onPopup=function(n){return this.popup&&this.popup.raise(this,n),!n.cancel},i.prototype._indexOf=function(n){for(var t=0;t<this._tips.length;t++)if(this._tips[t].element==n)return t;return-1},i.prototype._attach=function(n){n.addEventListener('mouseenter',this._showAutoTipBnd);n.addEventListener('mouseleave',this._hideAutoTipBnd);n.addEventListener('click',this._showAutoTipBnd)},i.prototype._detach=function(n){n.removeEventListener('mouseenter',this._showAutoTipBnd);n.removeEventListener('mouseleave',this._hideAutoTipBnd);n.removeEventListener('click',this._showAutoTipBnd)},i.prototype._showAutoTip=function(t){var i=this,r=t.type=='mouseenter'?this._showDelay:0;this._clearTimeouts();this._toShow=setTimeout(function(){var u=i._indexOf(t.target),r,f;u>-1&&(r=i._tips[u],f=i._showAtMouse?new n.Rect(t.clientX,t.clientY,0,0):null,i.show(r.element,r.content,f),i._hideDelay>0&&(i._toHide=setTimeout(function(){i.hide()},i._hideDelay)))},r)},i.prototype._hideAutoTip=function(){this._clearTimeouts();this.hide()},i.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null);this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},i.prototype._getContent=function(t){if(t=n.asString(t),t&&t[0]=='#'){var i=n.getElement(t);i&&(t=i.innerHTML)}return t},i.prototype._setContent=function(n){var t=i._eTip;t&&(this.isContentHtml?t.innerHTML=n:t.textContent=n)},i}(),r,t;n.Tooltip=i;r=function(){function n(){}return n}();t=function(t){function i(i){var r=t.call(this)||this;return r._content=n.asString(i),r}return __extends(i,t),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(t){this._content=n.asString(t)},enumerable:!0,configurable:!0}),i}(n.CancelEventArgs);n.TooltipEventArgs=t}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(n){this._r=0;this._g=0;this._b=0;this._a=1;n&&this._parse(n)}return Object.defineProperty(t.prototype,"r",{get:function(){return this._r},set:function(t){this._r=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._g},set:function(t){this._g=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._b},set:function(t){this._b=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this._a},set:function(t){this._a=n.clamp(n.asNumber(t),0,1)},enumerable:!0,configurable:!0}),t.prototype.equals=function(n){return n instanceof t&&this.r==n.r&&this.g==n.g&&this.b==n.b&&this.a==n.a},t.prototype.toString=function(){var n=Math.round(this.a*100);return n>99?'#'+(16777216+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):'rgba('+this.r+','+this.g+','+this.b+','+n/100+')'},t.fromRgba=function(i,r,u,f){f===void 0&&(f=1);var e=new t(null);return e.r=Math.round(n.clamp(n.asNumber(i),0,255)),e.g=Math.round(n.clamp(n.asNumber(r),0,255)),e.b=Math.round(n.clamp(n.asNumber(u),0,255)),e.a=n.clamp(n.asNumber(f),0,1),e},t.fromHsb=function(i,r,u,f){f===void 0&&(f=1);var e=t._hsbToRgb(n.clamp(n.asNumber(i),0,1),n.clamp(n.asNumber(r),0,1),n.clamp(n.asNumber(u),0,1));return t.fromRgba(e[0],e[1],e[2],f)},t.fromHsl=function(i,r,u,f){f===void 0&&(f=1);var e=t._hslToRgb(n.clamp(n.asNumber(i),0,1),n.clamp(n.asNumber(r),0,1),n.clamp(n.asNumber(u),0,1));return t.fromRgba(e[0],e[1],e[2],f)},t.fromString=function(i){var r=new t(null);return r._parse(n.asString(i))?r:null},t.prototype.getHsb=function(){return t._rgbToHsb(this.r,this.g,this.b)},t.prototype.getHsl=function(){return t._rgbToHsl(this.r,this.g,this.b)},t.interpolate=function(i,r,u){u=n.clamp(n.asNumber(u),0,1);var e=t._rgbToHsl(i.r,i.g,i.b),o=t._rgbToHsl(r.r,r.g,r.b),f=1-u,c=i.a*f+r.a*u,s=[e[0]*f+o[0]*u,e[1]*f+o[1]*u,e[2]*f+o[2]*u],h=t._hslToRgb(s[0],s[1],s[2]);return t.fromRgba(h[0],h[1],h[2],c)},t.toOpaque=function(i,r){if(i=n.isString(i)?t.fromString(i):n.asType(i,t),i.a==1)return i;r=r==null?t.fromRgba(255,255,255,1):n.isString(r)?t.fromString(r):n.asType(r,t);var u=i.a,f=1-u;return t.fromRgba(i.r*u+r.r*f,i.g*u+r.g*f,i.b*u+r.b*f)},t.prototype._parse=function(n){var u,f,r,e,i,o;if(n=n.toLowerCase(),n=='transparent')return this._r=this._g=this._b=this._a=0,!0;if(n&&n.indexOf('#')!=0&&n.indexOf('rgb')!=0&&n.indexOf('hsl')!=0&&(u=document.createElement('div'),u.style.color=n,f=u.style.color,f==n&&(f=window.getComputedStyle(u).color,f||(document.body.appendChild(u),f=window.getComputedStyle(u).color,document.body.removeChild(u))),n=f.toLowerCase()),n.indexOf('#')==0)return n.length==4?(this.r=parseInt(n[1]+n[1],16),this.g=parseInt(n[2]+n[2],16),this.b=parseInt(n[3]+n[3],16),this.a=1,!0):n.length==7?(this.r=parseInt(n.substr(1,2),16),this.g=parseInt(n.substr(3,2),16),this.b=parseInt(n.substr(5,2),16),this.a=1,!0):!1;if(n.indexOf('rgb')==0&&(r=n.indexOf('('),e=n.indexOf(')'),r>-1&&e>-1&&(i=n.substr(r+1,e-(r+1)).split(','),i.length>2)))return this.r=parseInt(i[0]),this.g=parseInt(i[1]),this.b=parseInt(i[2]),this.a=i.length>3?parseFloat(i[3]):1,!0;if(n.indexOf('hsl')==0&&(r=n.indexOf('('),e=n.indexOf(')'),r>-1&&e>-1&&(i=n.substr(r+1,e-(r+1)).split(','),i.length>2))){var c=parseInt(i[0])/360,s=parseInt(i[1]),h=parseInt(i[2]);return i[1].indexOf('%')>-1&&(s/=100),i[2].indexOf('%')>-1&&(h/=100),o=t._hslToRgb(c,s,h),this.r=o[0],this.g=o[1],this.b=o[2],this.a=i.length>3?parseFloat(i[3]):1,!0}return!1},t._hslToRgb=function(i,r,u){var o,s,h,f,e;return n.assert(i>=0&&i<=1&&r>=0&&r<=1&&u>=0&&u<=1,'bad HSL values'),r==0?o=s=h=u:(f=u<.5?u*(1+r):u+r-u*r,e=2*u-f,o=t._hue2rgb(e,f,i+1/3),s=t._hue2rgb(e,f,i),h=t._hue2rgb(e,f,i-1/3)),[Math.round(o*255),Math.round(s*255),Math.round(h*255)]},t._hue2rgb=function(n,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?n+(t-n)*6*i:i<1/2?t:i<2/3?n+(t-n)*(2/3-i)*6:n},t._rgbToHsl=function(t,i,r){var e;n.assert(t>=0&&t<=255&&i>=0&&i<=255&&r>=0&&r<=255,'bad RGB values');t/=255;i/=255;r/=255;var u=Math.max(t,i,r),o=Math.min(t,i,r),f,s,h=(u+o)/2;if(u==o)f=s=0;else{e=u-o;s=h>.5?e/(2-u-o):e/(u+o);switch(u){case t:f=(i-r)/e+(i<r?6:0);break;case i:f=(r-t)/e+2;break;case r:f=(t-i)/e+4}f/=6}return[f,s,h]},t._rgbToHsb=function(i,r,u){n.assert(i>=0&&i<=255&&r>=0&&r<=255&&u>=0&&u<=255,'bad RGB values');var f=t._rgbToHsl(i,r,u);return t._hslToHsb(f[0],f[1],f[2])},t._hsbToRgb=function(n,i,r){var u=t._hsbToHsl(n,i,r);return t._hslToRgb(u[0],u[1],u[2])},t._hsbToHsl=function(t,i,r){n.assert(t>=0&&t<=1&&i>=0&&i<=1&&r>=0&&r<=1,'bad HSB values');var u=n.clamp(r*(2-i)/2,0,1),f=1-Math.abs(2*u-1),e=n.clamp(f>0?r*i/f:i,0,1);return n.assert(!isNaN(u)&&!isNaN(e),'bad conversion to HSL'),[t,e,u]},t._hslToHsb=function(t,i,r){n.assert(t>=0&&t<=1&&i>=0&&i<=1&&r>=0&&r<=1,'bad HSL values');var u=n.clamp(r==1?1:(2*r+i*(1-Math.abs(2*r-1)))/2,0,1),f=n.clamp(u>0?2*(u-r)/u:i,0,1);return n.assert(!isNaN(u)&&!isNaN(f),'bad conversion to HSB'),[t,f,u]},t}();n.Color=t}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(){}return t.copy=function(n){t._copyPasteInternal(n)},t.paste=function(n){t._copyPasteInternal(n)},t._copyPasteInternal=function(t){for(var u=n.getActiveElement(),r=n.closest(u,'.wj-control'),i;r&&n.Control.getControl(r);)r=r.parentElement;r==null&&(r=document.body);r&&(i=document.createElement('textarea'),i.style.position='fixed',i.style.opacity='0',r.appendChild(i),typeof t=='string'&&(i.value=t),i.select(),i.onkeydown=function(n){i.value&&n.preventDefault()},setTimeout(function(){u.focus();var n=i.value;r.removeChild(i);typeof t=='function'&&t(n)},100))},t}();n.Clipboard=t}(wijmo||(wijmo={})),function(n){'use strict';function i(i,r,u,f,e){var c,y,a,rt,p,ut,g,nt,w,tt,ft,it,b,l;if(r===void 0&&(r=null),u===void 0&&(u=!1),f===void 0&&(f=!1),e===void 0&&(e=!0),c=document.body,r instanceof HTMLElement){if(!n.contains(document.body,r))return;for(y=r.parentElement;y;y=y.parentElement)if(getComputedStyle(y).position=='fixed'){c=y;break}}c.lastChild!=i&&c.appendChild(i);r instanceof HTMLElement&&e&&(a=getComputedStyle(r),rt=new n.Color(a.backgroundColor),rt.a&&n.setCss(i,{color:a.color,backgroundColor:a.backgroundColor,fontFamily:a.fontFamily,fontSize:a.fontSize,fontWeight:a.fontWeight,fontStyle:a.fontStyle}));n.setCss(i,{position:'absolute',visibility:'hidden',display:''});n.Control.refreshAll(i);var v=getComputedStyle(i),et=parseFloat(v.marginTop)+parseFloat(v.marginBottom),ot=parseFloat(v.marginLeft)+parseFloat(v.marginRight),h=new n.Size(i.offsetWidth+ot,i.offsetHeight+et),o=new n.Point,s=null;if(r&&r.clientX!=null&&r.clientY!=null&&r.pageX!=null&&r.pageY!=null)r.clientX<=0&&r.clientY<=0&&r.target?s=r.target.getBoundingClientRect():(o.x=Math.max(0,r.pageX-pageXOffset),o.y=Math.max(0,r.pageY-pageYOffset));else if(r instanceof n.Point)o=r;else if(r instanceof HTMLElement)s=r.getBoundingClientRect();else if(r&&r.top!=null&&r.left!=null)s=r;else if(r==null)o.x=Math.max(0,(innerWidth-h.width)/2),o.y=Math.max(0,Math.round((innerHeight-h.height)/2*.7));else throw'Invalid ref parameter.';if(p=parseFloat(v.minWidth),s){var k=s.top,d=innerHeight-s.bottom,st=getComputedStyle(i).direction=='rtl';o.x=st?Math.max(0,s.right-h.width):Math.max(0,Math.min(s.left,innerWidth-h.width));o.y=u?k>h.height||k>d?Math.max(0,s.top-h.height):s.bottom:d>h.height||d>k?s.bottom:Math.max(0,s.top-h.height);p=Math.max(p,s.width);n.isIE()&&(ut=i.offsetWidth-(i.clientWidth+parseInt(v.borderLeftWidth)+parseInt(v.borderRightWidth)),p-=ut)}else g=innerHeight-20,o.y+h.height>g&&(o.y=Math.max(0,g-h.height)),nt=innerWidth-20,o.x+h.width>nt&&(o.x=Math.max(0,nt-h.width));if(w=new n.Point(0,0),r!=null&&(c==document.body?w=new n.Point(-pageXOffset,-pageYOffset):c&&(tt=c.getBoundingClientRect(),w=new n.Point(tt.left-c.scrollLeft,tt.top-c.scrollTop))),ft={position:r==null?'fixed':'absolute',left:o.x-w.x,top:o.y-w.y,minWidth:p,display:'',visibility:'',zIndex:1500},f&&(i.style.opacity='0',n.animate(function(n){i.style.opacity=n==1?'':n.toString()})),n.setCss(i,ft),it=r instanceof MouseEvent?r.target:r,it instanceof HTMLElement)for(l=it.parentElement;l&&l!=document.body;l=l.parentElement)getComputedStyle(l).overflowY=='auto'&&l.scrollHeight>l.offsetHeight&&(b||(b=new n.Control(document.createElement('div'))),b.addEventListener(l,'scroll',function(){t(i,!0);b.dispose()}))}function r(i,r,u){r===void 0&&(r=!0);u===void 0&&(u=!1);u?n.animate(function(n){i.style.opacity=(1-n).toString();n==1&&(t(i,r),i.style.opacity='')}):t(i,r)}function t(n,t){n.style.display='none';t&&n.parentElement&&n.parentElement.removeChild(n)}n.showPopup=i;n.hidePopup=r}(wijmo||(wijmo={})),function(n){'use strict';var t=function(){function t(t){this._copyCss=!0;t!=null&&n.copy(this,t)}return Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=n.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.addCSS=function(n){this._css||(this._css=[]);this._css.push(n)},t.prototype.append=function(t){var i=this._getDocument();n.isString(t)?i.write(t):t instanceof HTMLElement?i.write(t.outerHTML):n.assert(!1,'child should be an HTML element or a string.')},t.prototype.print=function(){var n=this;this._iframe&&(this._close(),setTimeout(function(){var t=n._iframe.contentWindow,i='onafterprint'in t;i&&(t.onafterprint=function(){document.body.removeChild(n._iframe);n._iframe=null});t.focus();t.print();i||(document.body.removeChild(n._iframe),n._iframe=null)},100))},t.prototype._getDocument=function(){if(!this._iframe){this._iframe=document.createElement('iframe');var n=this._iframe.style;n.position='fixed';n.left='10000px';n.top='10000px';document.body.appendChild(this._iframe)}return this._iframe.contentDocument},t.prototype._close=function(){var i=this._getDocument(),r,e,u,o,t,s,f;if(i.close(),this.title&&(r=i.querySelector('title'),r||(r=i.createElement('title'),i.head.appendChild(r)),r.textContent=this.title),this._copyCss){for(e=document.head.querySelectorAll('LINK'),t=0;t<e.length;t++)u=e[t],u.href.match(/\.css$/i)&&u.rel.match(/stylesheet/i)&&(f=n.httpRequest(u.href,{async:!1}),this._addStyle(f.responseText));for(o=document.head.querySelectorAll('STYLE'),t=0;t<o.length;t++)this._addStyle(o[t].textContent)}if(this._css)for(t=0;t<this._css.length;t++)s=i.createElement('style'),f=n.httpRequest(this._css[t],{async:!1}),s.textContent=f.responseText,i.head.appendChild(s)},t.prototype._addStyle=function(n){var t=this._getDocument(),i=t.createElement('style');i.textContent=n;t.head.appendChild(i)},t}();n.PrintDocument=t}(wijmo||(wijmo={})),function(n){'use strict';var i=function(){function i(n,t,i){t===void 0&&(t=null);i===void 0&&(i='_');this._promptChar='_';this._mskArr=[];this._full=!0;this._hbInput=this._input.bind(this);this._hbKeyDown=this._keydown.bind(this);this._hbKeyPress=this._keypress.bind(this);this._hbCompositionStart=this._compositionstart.bind(this);this._hbCompositionEnd=this._compositionend.bind(this);this.mask=t;this.input=n;this.promptChar=i;this._connect(!0)}return Object.defineProperty(i.prototype,"input",{get:function(){return this._tbx},set:function(n){this._connect(!1);this._tbx=n;this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=n.asString(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){t!=this._promptChar&&(this._promptChar=n.asString(t,!1),n.assert(this._promptChar.length==1,'promptChar must be a string with length 1.'),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),i.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},i.prototype.getRawValue=function(){var t=this._tbx.value,i='',n;if(!this.mask)return t;for(n=0;n<this._mskArr.length&&n<t.length;n++)this._mskArr[n].literal||t[n]==this._promptChar||(i+=t[n]);return i},i.prototype.refresh=function(){this._parseMask();this._valueChanged()},i.prototype._input=function(){var n=this;this._composing||setTimeout(function(){n._valueChanged()})},i.prototype._keydown=function(t){if(t.keyCode==n.Key.Back){var i=this._tbx.selectionStart,r=this._tbx.selectionEnd;if(i<=this._firstPos&&r==i){t.preventDefault();this._backSpace=!1;return}}this._backSpace=t.keyCode==n.Key.Back},i.prototype._keypress=function(n){n.ctrlKey||n.metaKey||n.altKey||this._composing||!this._preventKey(n.charCode)||n.preventDefault()},i.prototype._compositionstart=function(){this._composing=!0},i.prototype._compositionend=function(){var n=this;this._composing&&(this._composing=!1,setTimeout(function(){n._valueChanged()}))},i.prototype._preventKey=function(t){var r;if(t&&this._mskArr.length){var u=this._tbx,i=u.selectionStart,f=String.fromCharCode(t);if(i<this._firstPos&&(i=this._firstPos,n.setSelectionRange(u,i)),i>=this._mskArr.length)return!0;if(r=this._mskArr[i],r.literal)this._validatePosition(i);else if(r.wildCard!=f&&!this._isCharValid(r.wildCard,f))return!0}return!1},i.prototype._connect=function(n){var t=this._tbx;t&&(n?(this._autoComplete=t.autocomplete,this._spellCheck=t.spellcheck,t.autocomplete='off',t.spellcheck=!1,t.addEventListener('input',this._hbInput),t.addEventListener('keydown',this._hbKeyDown,!0),t.addEventListener('keypress',this._hbKeyPress,!0),t.addEventListener('compositionstart',this._hbCompositionStart,!0),t.addEventListener('compositionend',this._hbCompositionEnd,!0),t.addEventListener('blur',this._hbCompositionEnd,!0),this._valueChanged()):(t.autocomplete=this._autoComplete,t.spellcheck=this._spellCheck,t.removeEventListener('input',this._hbInput),t.removeEventListener('keydown',this._hbKeyDown,!0),t.removeEventListener('keypress',this._hbKeyPress,!0),t.removeEventListener('compositionstart',this._hbCompositionStart,!0),t.removeEventListener('compositionend',this._hbCompositionEnd,!0),t.removeEventListener('blur',this._hbCompositionEnd,!0)))},i.prototype._valueChanged=function(){var i;if(this._tbx&&this._msk){var t=this._tbx,r=t.value.length<2,n=t.selectionStart,u=n>0?t.value[n-1]:'';t.value=this._applyMask();r&&(n=this._firstPos+1);i=n>0?t.value[n-1]:'';n>0&&i==this._promptChar&&u!=this.promptChar&&n--;this._validatePosition(n)}},i.prototype._applyMask=function(){var t,e,r,f,u,n,i;if((this._full=!0,t=this._tbx.value,!this._msk)||!t&&!this._tbx.required)return t;for(e='',r=0,t=this._handleVagueLiterals(t),f=0;f<this._mskArr.length;f++){if(u=this._mskArr[f],n=u.literal,n&&n==t[r]&&r++,u.wildCard){if(n=this._promptChar,t){for(i=r;i<t.length;i++)if(this._isCharValid(u.wildCard,t[i])){n=t[i];switch(u.charCase){case'>':n=n.toUpperCase();break;case'<':n=n.toLowerCase()}break}r=i+1}n==this._promptChar&&(this._full=!1)}e+=n}return e},i.prototype._handleVagueLiterals=function(n){var i,t,f,r,e,u;if(n.length>this._mskArr.length+1)return n;if(i=n.length-this._mskArr.length,i!=0&&n.length>1){for(t=-1,f=Math.max(0,this._tbx.selectionStart-i),r=f;r<this._mskArr.length;r++)if(this._mskArr[r].vague){t=r;break}if(t>-1)if(i<0)e=Array(1-i).join(this._promptChar),u=t+i,u>-1&&(n=n.substr(0,u)+e+n.substr(u));else{while(t>0&&this._mskArr[t-1].literal)t--;n=n.substr(0,t)+n.substr(t+i)}}return n},i.prototype._isCharValid=function(n,t){var r=this._promptChar;switch(n){case'0':return t>='0'&&t<='9'||t==r;case'9':return t>='0'&&t<='9'||t==' '||t==r;case'#':return t>='0'&&t<='9'||t==' '||t=='+'||t=='-'||t==r;case'L':return t>='a'&&t<='z'||t>='A'&&t<='Z'||t==r;case'l':return t>='a'&&t<='z'||t>='A'&&t<='Z'||t==' '||t==r;case'A':return t>='0'&&t<='9'||t>='a'&&t<='z'||t>='A'&&t<='Z'||t==r;case'a':return t>='0'&&t<='9'||t>='a'&&t<='z'||t>='A'&&t<='Z'||t==' '||t==r;case'\uff19':return t>='\uFF10'&&t<='\uff19'||t==r;case'\uff2a':case'\uff27':return n=='\uff27'&&i._X_DBCS_BIG_HIRA.indexOf(t)>-1?!1:t>='\u3041'&&t<='\u3096'||t==r;case'\uff2b':case'\uff2e':return n=='\uff2e'&&i._X_DBCS_BIG_KATA.indexOf(t)>-1?!1:t>='\u30a1'&&t<='\u30fa'||t==r;case'\uff3a':return t<='\u0021'||t>='\u00ff'||t==r;case'H':return t>='\u0021'&&t<='\u00ff'||t==r;case'K':case'N':return n=='N'&&i._X_SBCS_BIG_KATA.indexOf(t)>-1?!1:t>='\uff66'&&t<='\uff9f'||t==r}return!1},i.prototype._validatePosition=function(t){var i=this._mskArr;if(this._backSpace)while(t>0&&t<i.length&&i[t-1].literal)t--;if(t==0||!this._backSpace)while(t<i.length&&i[t].literal)t++;n.getActiveElement()==this._tbx&&n.setSelectionRange(this._tbx,t);this._backSpace=!1},i.prototype._parseMask=function(){var r,o,f,i,e,u,s;for(this._mskArr=[],this._firstPos=-1,this._lastPos=-1,r=this._msk,o='|',i=0;r&&i<r.length;i++)switch(r[i]){case'0':case'9':case'#':case'A':case'a':case'L':case'l':case'\uff19':case'\uff2a':case'\uff27':case'\uff2b':case'\uff2e':case'\uff3a':case'K':case'N':case'H':this._firstPos<0&&(this._firstPos=this._mskArr.length);this._lastPos=this._mskArr.length;this._mskArr.push(new t(r[i],o));break;case'.':case',':case':':case'/':case'$':switch(r[i]){case'.':case',':f=n.culture.Globalize.numberFormat[r[i]];break;case':':case'/':f=n.culture.Globalize.calendar[r[i]];break;case'$':f=n.culture.Globalize.numberFormat.currency.symbol}for(u=0;u<f.length;u++)this._mskArr.push(new t(f[u]));break;case'<':case'>':case'|':o=r[i];break;case'\\':i<r.length-1&&i++;this._mskArr.push(new t(r[i]));break;default:this._mskArr.push(new t(r[i]))}for(i=0;i<this._mskArr.length;i++)if(e=this._mskArr[i],e.literal)for(u=0;u<i;u++)if(s=this._mskArr[u],s.wildCard&&this._isCharValid(s.wildCard,e.literal)){e.vague=!0;break}},i}(),t;i._X_DBCS_BIG_HIRA='\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096';i._X_DBCS_BIG_KATA='\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6';i._X_SBCS_BIG_KATA='\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f';n._MaskProvider=i;t=function(){function n(n,t){t?(this.wildCard=n,this.charCase=t):this.literal=n}return n}();n._MaskElement=t}(wijmo||(wijmo={})),function(n){'use strict';function h(){return s}function u(){return r}function c(){return f}function l(){return e}function a(n,t){n.effectAllowed=t;u()&&n.setData('text','')}var s=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i)!=null,r,f,e,i,o,t;n.isMobile=h;r=navigator.userAgent.match(/Firefox\//)!=null;n.isFirefox=u;f=navigator.userAgent.match(/MSIE |Trident\/|Edge\//)!=null;n.isIE=c;n.isIE9=l;n._startDrag=a;document.doctype&&navigator.appVersion.indexOf('MSIE 9')>-1&&(e=!0,document.addEventListener('mousemove',function(n){if(n.which==1)for(var t=n.target;t;t=t.parentNode)if(t.attributes&&t.attributes.draggable)return t.dragDrop(),!1}));i='requestAnimationFrame';o='cancelAnimationFrame';window[i]||(t=0,window[i]=function(n){var i=Date.now(),r=16-(i-t),u=r>0?r:0;return t=i+u,setTimeout(function(){n(t)},u)},window[o]=clearTimeout)}(wijmo||(wijmo={}))